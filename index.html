<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Jeux de Con üéÆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f9ca24);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        h1 {
            color: white;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin: 20px 0;
            font-size: 2.5em;
        }

        .menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            max-width: 1200px;
            width: 100%;
            margin-bottom: 20px;
        }

        .game-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s;
            text-align: center;
        }

        .game-card:hover {
            transform: scale(1.05);
        }

        .game-card h2 {
            color: #333;
            margin-bottom: 10px;
        }

        .game-card p {
            color: #666;
            font-size: 0.9em;
        }

        .game-container {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .game-container.active {
            display: block;
        }

        button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            margin: 10px 5px;
            transition: background 0.3s;
            font-family: 'Comic Sans MS', cursive;
        }

        button:hover {
            background: #ee5a52;
        }

        .back-btn {
            background: #95a5a6;
        }

        .back-btn:hover {
            background: #7f8c8d;
        }

        #clicker-score, #reaction-result, #memory-status, #spam-counter {
            font-size: 2em;
            color: #333;
            margin: 20px 0;
            font-weight: bold;
        }

        #click-zone {
            width: 200px;
            height: 200px;
            background: #4ecdc4;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            cursor: pointer;
            transition: transform 0.1s;
            font-size: 3em;
        }

        #click-zone:active {
            transform: scale(0.95);
        }

        #reaction-box {
            width: 100%;
            height: 200px;
            background: #e74c3c;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 2em;
            color: white;
            margin: 20px 0;
        }

        #reaction-box.green {
            background: #2ecc71;
        }

        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 20px auto;
        }

        .memory-card {
            aspect-ratio: 1;
            background: #3498db;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            transition: transform 0.3s;
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            background: white;
        }

        .memory-card.matched {
            background: #2ecc71;
            cursor: default;
        }

        #spam-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Comic Sans MS', cursive;
        }

        /* Morpion */
        .tictactoe-board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            gap: 5px;
            margin: 20px auto;
            width: fit-content;
        }

        .tictactoe-cell {
            width: 100px;
            height: 100px;
            background: #ecf0f1;
            border: 3px solid #34495e;
            border-radius: 8px;
            font-size: 3em;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.3s;
        }

        .tictactoe-cell:hover:not(.taken) {
            background: #bdc3c7;
        }

        .tictactoe-cell.taken {
            cursor: default;
        }

        /* √âchecs */
        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 50px);
            gap: 0;
            margin: 20px auto;
            border: 3px solid #34495e;
            width: fit-content;
        }

        .chess-cell {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
            position: relative;
        }

        .chess-cell.white {
            background: #f0d9b5;
        }

        .chess-cell.black {
            background: #b58863;
        }

        .chess-cell.selected {
            background: #7fc97f !important;
        }

        .chess-cell.possible-move {
            background: #ffd700 !important;
        }

        /* Dames */
        .checkers-board {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            gap: 0;
            margin: 20px auto;
            border: 3px solid #34495e;
            width: fit-content;
        }

        .checkers-cell {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            cursor: pointer;
        }

        .checkers-cell.white {
            background: #f0d9b5;
        }

        .checkers-cell.black {
            background: #769656;
        }

        .checkers-cell.selected {
            background: #7fc97f !important;
        }

        .checkers-cell.possible-move {
            background: #ffd700 !important;
        }

        .game-status {
            font-size: 1.3em;
            color: #333;
            margin: 15px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>üéÆ Mini Jeux pour bebou </h1>

    <div class="menu" id="menu">
        <div class="game-card" onclick="showGame('clicker')">
            <h2>üëÜ Clicker D√©bile</h2>
            <p>Clique comme un malade pendant 10 secondes !</p>
        </div>
        <div class="game-card" onclick="showGame('reaction')">
            <h2>‚ö° Test de R√©flexes</h2>
            <p>Clique d√®s que √ßa devient vert !</p>
        </div>
        <div class="game-card" onclick="showGame('memory')">
            <h2>üß† Memory de Merde</h2>
            <p>Trouve les paires d'emojis !</p>
        </div>
        <div class="game-card" onclick="showGame('spam')">
            <h2>‚å®Ô∏è Spam Master</h2>
            <p>Tape n'importe quoi le plus vite possible !</p>
        </div>
        <div class="game-card" onclick="showGame('tictactoe')">
            <h2>‚≠ï Morpion</h2>
            <p>Affronte l'IA au morpion !</p>
        </div>
        <div class="game-card" onclick="showGame('chess')">
            <h2>‚ôüÔ∏è √âchecs</h2>
            <p>Joue aux √©checs contre un bot !</p>
        </div>
        <div class="game-card" onclick="showGame('checkers')">
            <h2>‚ö´ Dames</h2>
            <p>Jeu de dames classique vs IA !</p>
        </div>
        <div class="game-card" onclick="showGame('rps')">
            <h2>‚úÇÔ∏è Pierre-Feuille-Ciseaux</h2>
            <p>Affronte l'ordi au classique RPS.</p>
        </div>
        <div class="game-card" onclick="showGame('guess')">
            <h2>‚ùì Devine le nombre</h2>
            <p>Trouve le nombre myst√®re entre 1 et 100.</p>
        </div>
        <div class="game-card" onclick="showGame('simon')">
            <h2>üî¥ Simon Says</h2>
            <p>R√©p√®te la s√©quence de couleurs.</p>
        </div>
        <div class="game-card" onclick="showGame('mole')">
            <h2>ü¶´ Whack-a-Mole</h2>
            <p>Frappe les taupes qui apparaissent !</p>
        </div>
        <div class="game-card" onclick="showGame('hangman')">
            <h2>üî§ Pendu</h2>
            <p>Devine le mot avant d'√™tre pendu.</p>
        </div>
        <div class="game-card" onclick="showGame('slot')">
            <h2>üé∞ Machine √† sous</h2>
            <p>Tire le levier et tente ta chance.</p>
        </div>
        <div class="game-card" onclick="showGame('snake')">
            <h2>üêç Snake</h2>
            <p>Mange pour grandir, √©vite les murs.</p>
        </div>
        <div class="game-card" onclick="showGame('quiz')">
            <h2>‚ûó Math Quiz</h2>
            <p>R√©ponds vite aux petites questions.</p>
        </div>
        <div class="game-card" onclick="showGame('racing')">
            <h2>üèéÔ∏è Racing 2D</h2>
            <p>√âvite les obstacles et gagne des points.</p>
        </div>
        <div class="game-card" onclick="showGame('dino')">
            <h2>ü¶ñ Dinosaur Runner</h2>
            <p>Saute par-dessus les obstacles en courant.</p>
        </div>
        <div class="game-card" onclick="showGame('breakout')">
            <h2>üß± Cass√©</h2>
            <p>Casse les briques avec ta raquette et ta balle.</p>
        </div>
        <div class="game-card" onclick="showGame('flappy')">
            <h2>üê¶ Flappy Bird</h2>
            <p>Traverse les tuyaux sans les toucher.</p>
        </div>
        <div class="game-card" onclick="showGame('puzzle15')">
            <h2>üî¢ Puzzle 15</h2>
            <p>Remets les tuiles dans l'ordre (glisse).</p>
        </div>
        <div class="game-card" onclick="showGame('lightsout')">
            <h2>üí° Lights Out</h2>
            <p>√âteins toutes les lumi√®res.</p>
        </div>
        <div class="game-card" onclick="showGame('bubble')">
            <h2>üü¶ Bubble Pop</h2>
            <p>Fais √©clater un maximum de bulles.</p>
        </div>
        <div class="game-card" onclick="showGame('game2048')">
            <h2>üî¢ 2048</h2>
            <p>Combine les tuiles pour atteindre 2048.</p>
        </div>
        <div class="game-card" onclick="showGame('mines')">
            <h2>üí£ Minesweeper</h2>
            <p>D√©tecte toutes les mines sans exploser.</p>
        </div>
        <div class="game-card" onclick="showGame('pong')">
            <h2>üèì Pong</h2>
            <p>Attrape la balle avec ta raquette.</p>
        </div>
        <div class="game-card" onclick="showGame('colormatch')">
            <h2>üé® Color Match</h2>
            <p>Choisis la bonne couleur le plus vite.</p>
        </div>
    </div>

        <div class="game-card" onclick="showGame('target')">
            <h2>üéØ Target Practice</h2>
            <p>Frappe les cibles qui apparaissent.</p>
        </div>
        <div class="game-card" onclick="showGame('numzap')">
            <h2>üî¢ Number Zap</h2>
            <p>Clique les nombres dans l'ordre.</p>
        </div>
        <div class="game-card" onclick="showGame('simonrev')">
            <h2>üîÅ Simon Reverse</h2>
            <p>R√©p√®te la s√©quence √† l'envers.</p>
        </div>
        <div class="game-card" onclick="showGame('reflexsprint')">
            <h2>‚ö° Reflex Sprint</h2>
            <p>S√©rie de tests de r√©flexes rapides.</p>
        </div>

    <!-- Clicker Game -->
    <div class="game-container" id="clicker">
        <h2>üëÜ Clicker D√©bile</h2>
        <div id="clicker-score">Score: 0</div>
        <div id="clicker-time">Temps: 10s</div>
        <div id="click-zone" onclick="incrementClick()">CLIQUE!</div>
        <button onclick="startClicker()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Reaction Game -->
    <div class="game-container" id="reaction">
        <h2>‚ö° Test de R√©flexes</h2>
        <div id="reaction-result">Clique sur "Commencer" !</div>
        <div id="reaction-box">Attends...</div>
        <button onclick="startReaction()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Memory Game -->
    <div class="game-container" id="memory">
        <h2>üß† Memory de Merde</h2>
        <div id="memory-status">Trouve les paires !</div>
        <div class="memory-grid" id="memory-grid"></div>
        <button onclick="startMemory()">Nouvelle Partie</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Spam Game -->
    <div class="game-container" id="spam">
        <h2>‚å®Ô∏è Spam Master</h2>
        <div id="spam-counter">Caract√®res: 0</div>
        <div id="spam-time">Temps: 15s</div>
        <input type="text" id="spam-input" placeholder="Tape n'importe quoi !" disabled>
        <button onclick="startSpam()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Tic Tac Toe Game -->
    <div class="game-container" id="tictactoe">
        <h2>‚≠ï Morpion</h2>
        <div class="game-status" id="ttt-status">√Ä toi de jouer (X)</div>
        <div class="tictactoe-board" id="ttt-board"></div>
        <button onclick="startTicTacToe()">Nouvelle Partie</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Chess Game -->
    <div class="game-container" id="chess">
        <h2>‚ôüÔ∏è √âchecs</h2>
        <div class="game-status" id="chess-status">√Ä toi de jouer (Blancs)</div>
        <div class="chess-board" id="chess-board"></div>
        <button onclick="startChess()">Nouvelle Partie</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Checkers Game -->
    <div class="game-container" id="checkers">
        <h2>‚ö´ Dames</h2>
        <div class="game-status" id="checkers-status">√Ä toi de jouer (Noirs)</div>
        <div class="checkers-board" id="checkers-board"></div>
        <button onclick="startCheckers()">Nouvelle Partie</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Nouveaux mini-jeux: RPS, Guess, Simon, Mole -->
    <!-- Rock Paper Scissors -->
    <div class="game-container" id="rps">
        <h2>‚úÇÔ∏è Pierre-Feuille-Ciseaux</h2>
        <div class="game-status" id="rps-result">Choisis une option</div>
        <div style="margin:15px;"> 
            <button onclick="playRPS('rock')">ü™® Pierre</button>
            <button onclick="playRPS('paper')">üìÑ Feuille</button>
            <button onclick="playRPS('scissors')">‚úÇÔ∏è Ciseaux</button>
        </div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Guess the Number -->
    <div class="game-container" id="guess">
        <h2>‚ùì Devine le nombre</h2>
        <div class="game-status" id="guess-status">Je pense √† un nombre entre 1 et 100.</div>
        <input id="guess-input" type="number" placeholder="Ton choix" style="padding:10px;margin:10px;border-radius:6px;font-size:1em;">
        <div style="margin:10px;"><button onclick="submitGuess()">Proposer</button><button onclick="startGuess()">Nouvelle Partie</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Simon Says -->
    <div class="game-container" id="simon">
        <h2>üî¥ Simon Says</h2>
        <div class="game-status" id="simon-status">Appuie sur "Commencer"</div>
        <div style="display:flex;gap:10px;justify-content:center;margin:15px;">
            <div id="simon-0" style="width:80px;height:80px;border-radius:10px;background:#e74c3c;cursor:pointer"></div>
            <div id="simon-1" style="width:80px;height:80px;border-radius:10px;background:#f1c40f;cursor:pointer"></div>
            <div id="simon-2" style="width:80px;height:80px;border-radius:10px;background:#2ecc71;cursor:pointer"></div>
            <div id="simon-3" style="width:80px;height:80px;border-radius:10px;background:#3498db;cursor:pointer"></div>
        </div>
        <button onclick="startSimon()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Whack-a-Mole -->
    <div class="game-container" id="mole">
        <h2>ü¶´ Whack-a-Mole</h2>
        <div class="game-status" id="mole-status">Score: 0</div>
        <div id="mole-grid" style="display:grid;grid-template-columns:repeat(3,120px);gap:10px;justify-content:center;margin:15px;"></div>
        <button onclick="startMole()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Hangman -->
    <div class="game-container" id="hangman">
        <h2>üî§ Pendu</h2>
        <div class="game-status" id="hangman-status">Appuie sur "Nouvelle Partie" pour commencer.</div>
        <div id="hangman-word" style="font-size:2em;margin:15px;"></div>
        <input id="hangman-input" maxlength="1" placeholder="Lettre" style="padding:8px;border-radius:6px;margin:10px;">
        <div style="margin:10px;"><button onclick="guessLetter()">Proposer</button><button onclick="startHangman()">Nouvelle Partie</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Slot Machine -->
    <div class="game-container" id="slot">
        <h2>üé∞ Machine √† sous</h2>
        <div id="slot-reels" style="font-size:2em;margin:15px;">- - -</div>
        <div style="margin:10px;"><button onclick="spinSlot()">Tirer</button></div>
        <div class="game-status" id="slot-status"></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Snake -->
    <div class="game-container" id="snake">
        <h2>üêç Snake</h2>
        <canvas id="snake-canvas" width="300" height="300" style="background:#ecf0f1;border-radius:8px;display:block;margin:10px auto;"></canvas>
        <div style="text-align:center;"><button onclick="startSnake()">Commencer</button></div>
        <div class="game-status" id="snake-status"></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Math Quiz -->
    <div class="game-container" id="quiz">
        <h2>‚ûó Math Quiz</h2>
        <div id="quiz-question" style="font-size:1.5em;margin:15px;">Pr√™t ?</div>
        <input id="quiz-input" type="number" style="padding:8px;border-radius:6px;margin:5px;">
        <div style="margin:10px;"><button onclick="submitQuiz()">Valider</button><button onclick="nextQuiz()">Question suivante</button></div>
        <div class="game-status" id="quiz-status"></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Racing Game -->
    <div class="game-container" id="racing">
        <h2>üèéÔ∏è Racing 2D</h2>
        <canvas id="racing-canvas" width="400" height="500" style="background:linear-gradient(to bottom, #87ceeb, #e0f6ff);border-radius:8px;display:block;margin:10px auto;"></canvas>
        <div class="game-status" id="racing-status">Score: 0</div>
        <button onclick="startRacing()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Dinosaur Runner -->
    <div class="game-container" id="dino">
        <h2>ü¶ñ Dinosaur Runner</h2>
        <canvas id="dino-canvas" width="600" height="200" style="background:#c1b5a8;border-radius:8px;display:block;margin:10px auto;"></canvas>
        <div class="game-status" id="dino-status">Score: 0 | Appuie sur ESPACE pour sauter</div>
        <button onclick="startDino()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Breakout/Cass√© -->
    <div class="game-container" id="breakout">
        <h2>üß± Cass√©</h2>
        <canvas id="breakout-canvas" width="480" height="320" style="background:#222;border-radius:8px;display:block;margin:10px auto;"></canvas>
        <div class="game-status" id="breakout-status">Score: 0</div>
        <button onclick="startBreakout()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Flappy Bird -->
    <div class="game-container" id="flappy">
        <h2>üê¶ Flappy Bird</h2>
        <canvas id="flappy-canvas" width="400" height="600" style="background:linear-gradient(to bottom, #87ceeb, #e0f6ff);border-radius:8px;display:block;margin:10px auto;"></canvas>
        <div class="game-status" id="flappy-status">Score: 0 | Clique pour sauter</div>
        <button onclick="startFlappy()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Puzzle 15 -->
    <div class="game-container" id="puzzle15">
        <h2>üî¢ Puzzle 15</h2>
        <div id="puzzle15-status">Remets les tuiles dans l'ordre.</div>
        <div id="puzzle15-grid" style="display:grid;grid-template-columns:repeat(4,80px);gap:8px;justify-content:center;margin:15px;"></div>
        <div style="margin:10px;"><button onclick="startPuzzle15()">Nouvelle Partie</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Lights Out -->
    <div class="game-container" id="lightsout">
        <h2>üí° Lights Out</h2>
        <div id="lightsout-status">√âteins toutes les lumi√®res.</div>
        <div id="lightsout-grid" style="display:grid;grid-template-columns:repeat(5,60px);gap:6px;justify-content:center;margin:15px;"></div>
        <div style="margin:10px;"><button onclick="startLightsOut()">Nouvelle Partie</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Bubble Pop -->
    <div class="game-container" id="bubble">
        <h2>üü¶ Bubble Pop</h2>
        <div id="bubble-status">Score: 0</div>
        <div id="bubble-grid" style="display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:15px;max-width:520px;"></div>
        <div style="margin:10px;"><button onclick="startBubblePop()">Commencer</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- 2048 -->
    <div class="game-container" id="game2048">
        <h2>üî¢ 2048</h2>
        <div id="g2048-status">Score: 0</div>
        <div id="g2048-grid" style="display:grid;grid-template-columns:repeat(4,80px);gap:8px;justify-content:center;margin:15px;"></div>
        <div style="margin:10px;"><button onclick="start2048()">Nouvelle Partie</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Minesweeper -->
    <div class="game-container" id="mines">
        <h2>üí£ Minesweeper</h2>
        <div id="mines-status">Bonne chance.</div>
        <div id="mines-grid" style="display:grid;grid-template-columns:repeat(5,50px);gap:6px;justify-content:center;margin:15px;"></div>
        <div style="margin:10px;"><button onclick="startMines()">Nouvelle Partie</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Pong -->
    <div class="game-container" id="pong">
        <h2>üèì Pong</h2>
        <canvas id="pong-canvas" width="400" height="300" style="background:#111;border-radius:8px;display:block;margin:10px auto;"></canvas>
        <div id="pong-status">Score: 0</div>
        <div style="margin:10px;"><button onclick="startPong()">Commencer</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Color Match -->
    <div class="game-container" id="colormatch">
        <h2>üé® Color Match</h2>
        <div id="colormatch-question" style="font-size:1.2em;margin:10px;">Appuie sur Commencer</div>
        <div id="colormatch-buttons" style="display:flex;gap:8px;justify-content:center;margin:15px;"></div>
        <div id="colormatch-status">Score: 0</div>
        <div style="margin:10px;"><button onclick="startColorMatch()">Commencer</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Target Practice -->
    <div class="game-container" id="target">
        <h2>üéØ Target Practice</h2>
        <div id="target-status">Score: 0</div>
        <div id="target-grid" style="display:grid;grid-template-columns:repeat(3,120px);gap:10px;justify-content:center;margin:15px;"></div>
        <div style="margin:10px;"><button onclick="startTarget()">Commencer</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Number Zap -->
    <div class="game-container" id="numzap">
        <h2>üî¢ Number Zap</h2>
        <div id="numzap-status">Clique 1 ‚Üí 16</div>
        <div id="numzap-grid" style="display:grid;grid-template-columns:repeat(4,80px);gap:8px;justify-content:center;margin:15px;"></div>
        <div style="margin:10px;"><button onclick="startNumZap()">Nouvelle Partie</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Simon Reverse -->
    <div class="game-container" id="simonrev">
        <h2>üîÅ Simon Reverse</h2>
        <div id="simonrev-status">Appuie sur Commencer</div>
        <div style="display:flex;gap:10px;justify-content:center;margin:15px;">
            <div id="simonrev-0" style="width:70px;height:70px;border-radius:10px;background:#e74c3c;cursor:pointer"></div>
            <div id="simonrev-1" style="width:70px;height:70px;border-radius:10px;background:#f1c40f;cursor:pointer"></div>
            <div id="simonrev-2" style="width:70px;height:70px;border-radius:10px;background:#2ecc71;cursor:pointer"></div>
            <div id="simonrev-3" style="width:70px;height:70px;border-radius:10px;background:#3498db;cursor:pointer"></div>
        </div>
        <button onclick="startSimonRev()">Commencer</button>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <!-- Reflex Sprint -->
    <div class="game-container" id="reflexsprint">
        <h2>‚ö° Reflex Sprint</h2>
        <div id="reflexsprint-status">Fais 5 rounds</div>
        <div id="reflexsprint-box" style="width:200px;height:80px;background:#ccc;border-radius:6px;display:flex;align-items:center;justify-content:center;margin:15px;">Pr√™t ?</div>
        <div style="margin:10px;"><button onclick="startReflexSprint()">Commencer</button></div>
        <button class="back-btn" onclick="backToMenu()">Retour</button>
    </div>

    <script>
        // Navigation
        function showGame(gameId) {
            document.getElementById('menu').style.display = 'none';
            document.querySelectorAll('.game-container').forEach(g => g.classList.remove('active'));
            document.getElementById(gameId).classList.add('active');
        }

        function backToMenu() {
            document.getElementById('menu').style.display = 'grid';
            document.querySelectorAll('.game-container').forEach(g => g.classList.remove('active'));
            resetGames();
        }

        function resetGames() {
            clickerRunning = false;
            reactionRunning = false;
            spamRunning = false;
            // Existing small games
            rpsPlaying = false;
            guessRunning = false;
            simonRunning = false;
            moleRunning = false;
            hangmanRunning = false;
            slotRunning = false;
            snakeRunning = false;
            quizRunning = false;
            racingRunning = false;
            dinoRunning = false;
            breakoutRunning = false;
            flappyRunning = false;
            // Previously added games
            puzzle15Running = false;
            lightsOutRunning = false;
            bubbleRunning = false;
            game2048Running = false;
            minesRunning = false;
            pongRunning = false;
            colormatchRunning = false;
            // Newly added games
            targetRunning = false;
            numzapRunning = false;
            simonrevRunning = false;
            reflexsprintRunning = false;
        }

        // CLICKER GAME
        let clickerScore = 0;
        let clickerRunning = false;

        function incrementClick() {
            if (clickerRunning) {
                clickerScore++;
                document.getElementById('clicker-score').textContent = `Score: ${clickerScore}`;
            }
        }

        function startClicker() {
            clickerScore = 0;
            clickerRunning = true;
            let timeLeft = 10;
            
            document.getElementById('clicker-score').textContent = `Score: 0`;
            document.getElementById('clicker-time').textContent = `Temps: ${timeLeft}s`;
            
            const timer = setInterval(() => {
                timeLeft--;
                document.getElementById('clicker-time').textContent = `Temps: ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    clickerRunning = false;
                    alert(`Bravo ! Tu as cliqu√© ${clickerScore} fois ! ${clickerScore > 50 ? 'üî•' : clickerScore > 30 ? 'üëç' : 'üòÖ'}`);
                }
            }, 1000);
        }

        // REACTION GAME
        let reactionStartTime;
        let reactionRunning = false;

        function startReaction() {
            const box = document.getElementById('reaction-box');
            box.className = '';
            box.textContent = 'Attends...';
            document.getElementById('reaction-result').textContent = 'Pr√©pare-toi...';
            reactionRunning = false;
            
            const delay = Math.random() * 3000 + 2000;
            
            setTimeout(() => {
                box.classList.add('green');
                box.textContent = 'CLIQUE !';
                reactionStartTime = Date.now();
                reactionRunning = true;
            }, delay);
            
            box.onclick = function() {
                if (reactionRunning) {
                    const reactionTime = Date.now() - reactionStartTime;
                    document.getElementById('reaction-result').textContent = `${reactionTime}ms ! ${reactionTime < 200 ? 'üöÄ √âclair !' : reactionTime < 300 ? '‚ö° Rapide !' : reactionTime < 500 ? 'üëç Pas mal !' : 'üêå Mollasson !'}`;
                    reactionRunning = false;
                } else if (box.classList.contains('green') === false && box.textContent === 'Attends...') {
                    document.getElementById('reaction-result').textContent = 'Trop t√¥t ! üòÇ';
                    this.onclick = null;
                }
            };
        }

        // MEMORY GAME
        const emojis = ['üê∂', 'üê±', 'üê≠', 'üêπ', 'üê∞', 'ü¶ä', 'üêª', 'üêº'];
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;

        function startMemory() {
            matchedPairs = 0;
            flippedCards = [];
            document.getElementById('memory-status').textContent = 'Trouve les paires !';
            
            const shuffled = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
            memoryCards = shuffled.map((emoji, index) => ({
                emoji,
                id: index,
                matched: false
            }));
            
            renderMemoryGrid();
        }

        function renderMemoryGrid() {
            const grid = document.getElementById('memory-grid');
            grid.innerHTML = '';
            
            memoryCards.forEach((card, index) => {
                const cardEl = document.createElement('div');
                cardEl.className = 'memory-card';
                cardEl.textContent = '?';
                cardEl.onclick = () => flipCard(index);
                grid.appendChild(cardEl);
            });
        }

        function flipCard(index) {
            if (flippedCards.length >= 2 || memoryCards[index].matched) return;
            
            const cardEls = document.querySelectorAll('.memory-card');
            cardEls[index].textContent = memoryCards[index].emoji;
            cardEls[index].classList.add('flipped');
            
            flippedCards.push(index);
            
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 500);
            }
        }

        function checkMatch() {
            const [first, second] = flippedCards;
            const cardEls = document.querySelectorAll('.memory-card');
            
            if (memoryCards[first].emoji === memoryCards[second].emoji) {
                memoryCards[first].matched = true;
                memoryCards[second].matched = true;
                cardEls[first].classList.add('matched');
                cardEls[second].classList.add('matched');
                matchedPairs++;
                
                if (matchedPairs === emojis.length) {
                    document.getElementById('memory-status').textContent = 'üéâ Gagn√© ! T\'es un champion !';
                }
            } else {
                cardEls[first].textContent = '?';
                cardEls[second].textContent = '?';
                cardEls[first].classList.remove('flipped');
                cardEls[second].classList.remove('flipped');
            }
            
            flippedCards = [];
        }

        // SPAM GAME
        let spamRunning = false;

        function startSpam() {
            const input = document.getElementById('spam-input');
            input.value = '';
            input.disabled = false;
            input.focus();
            spamRunning = true;
            
            let timeLeft = 15;
            document.getElementById('spam-time').textContent = `Temps: ${timeLeft}s`;
            document.getElementById('spam-counter').textContent = `Caract√®res: 0`;
            
            input.oninput = function() {
                if (spamRunning) {
                    document.getElementById('spam-counter').textContent = `Caract√®res: ${this.value.length}`;
                }
            };
            
            const timer = setInterval(() => {
                timeLeft--;
                document.getElementById('spam-time').textContent = `Temps: ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    spamRunning = false;
                    input.disabled = true;
                    const count = input.value.length;
                    alert(`Tu as tap√© ${count} caract√®res ! ${count > 100 ? '‚å®Ô∏è Machine √† √©crire !' : count > 50 ? 'üëç Pas mal !' : 'üêå Faut s\'entra√Æner !'}`);
                }
            }, 1000);
        }

        // TIC TAC TOE GAME
        let tttBoard = Array(9).fill(null);
        let currentPlayer = 'X';
        let gameOver = false;

        function startTicTacToe() {
            tttBoard = Array(9).fill(null);
            currentPlayer = 'X';
            gameOver = false;
            document.getElementById('ttt-status').textContent = '√Ä toi de jouer (X)';
            renderTicTacToe();
        }

        function renderTicTacToe() {
            const board = document.getElementById('ttt-board');
            board.innerHTML = '';
            
            tttBoard.forEach((cell, index) => {
                const cellEl = document.createElement('div');
                cellEl.className = 'tictactoe-cell';
                if (cell) {
                    cellEl.classList.add('taken');
                    cellEl.textContent = cell;
                }
                cellEl.onclick = () => playTicTacToe(index);
                board.appendChild(cellEl);
            });
        }

        function playTicTacToe(index) {
            if (tttBoard[index] || gameOver || currentPlayer === 'O') return;
            
            tttBoard[index] = 'X';
            renderTicTacToe();
            
            if (checkTTTWinner('X')) {
                document.getElementById('ttt-status').textContent = 'üéâ Tu as gagn√© !';
                gameOver = true;
                return;
            }
            
            if (tttBoard.every(cell => cell)) {
                document.getElementById('ttt-status').textContent = 'ü§ù Match nul !';
                gameOver = true;
                return;
            }
            
            currentPlayer = 'O';
            document.getElementById('ttt-status').textContent = 'L\'IA r√©fl√©chit...';
            
            setTimeout(() => {
                aiMoveTicTacToe();
            }, 500);
        }

        function aiMoveTicTacToe() {
            // IA simple mais efficace
            let move = findBestMove();
            
            if (move === -1) {
                const emptyCells = tttBoard.map((cell, i) => cell === null ? i : null).filter(i => i !== null);
                move = emptyCells[Math.floor(Math.random() * emptyCells.length)];
            }
            
            tttBoard[move] = 'O';
            renderTicTacToe();
            
            if (checkTTTWinner('O')) {
                document.getElementById('ttt-status').textContent = 'üòÖ L\'IA a gagn√© !';
                gameOver = true;
                return;
            }
            
            if (tttBoard.every(cell => cell)) {
                document.getElementById('ttt-status').textContent = 'ü§ù Match nul !';
                gameOver = true;
                return;
            }
            
            currentPlayer = 'X';
            document.getElementById('ttt-status').textContent = '√Ä toi de jouer (X)';
        }

        function findBestMove() {
            // Essaie de gagner
            for (let i = 0; i < 9; i++) {
                if (!tttBoard[i]) {
                    tttBoard[i] = 'O';
                    if (checkTTTWinner('O')) {
                        tttBoard[i] = null;
                        return i;
                    }
                    tttBoard[i] = null;
                }
            }
            
            // Bloque le joueur
            for (let i = 0; i < 9; i++) {
                if (!tttBoard[i]) {
                    tttBoard[i] = 'X';
                    if (checkTTTWinner('X')) {
                        tttBoard[i] = null;
                        return i;
                    }
                    tttBoard[i] = null;
                }
            }
            
            // Prend le centre
            if (!tttBoard[4]) return 4;
            
            // Prend un coin
            const corners = [0, 2, 6, 8];
            for (let corner of corners) {
                if (!tttBoard[corner]) return corner;
            }
            
            return -1;
        }

        function checkTTTWinner(player) {
            const lines = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6]
            ];
            
            return lines.some(line => 
                line.every(index => tttBoard[index] === player)
            );
        }

        // Initialize games on page load
        startTicTacToe();

        // CHESS GAME
        const chessPieces = {
            'K': '‚ôî', 'Q': '‚ôï', 'R': '‚ôñ', 'B': '‚ôó', 'N': '‚ôò', 'P': '‚ôô',
            'k': '‚ôö', 'q': '‚ôõ', 'r': '‚ôú', 'b': '‚ôù', 'n': '‚ôû', 'p': '‚ôü'
        };

        let chessBoard = [];
        let selectedChessSquare = null;
        let whiteToMove = true;
        let chessGameOver = false;

        function startChess() {
            chessBoard = [
                ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                [null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null],
                ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
                ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
            ];
            selectedChessSquare = null;
            whiteToMove = true;
            chessGameOver = false;
            document.getElementById('chess-status').textContent = '√Ä toi de jouer (Blancs)';
            renderChess();
        }

        function renderChess() {
            const board = document.getElementById('chess-board');
            board.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'chess-cell ' + ((row + col) % 2 === 0 ? 'white' : 'black');
                    
                    if (selectedChessSquare && selectedChessSquare.row === row && selectedChessSquare.col === col) {
                        cell.classList.add('selected');
                    }
                    
                    const piece = chessBoard[row][col];
                    if (piece) {
                        cell.textContent = chessPieces[piece];
                    }
                    
                    cell.onclick = () => clickChessSquare(row, col);
                    board.appendChild(cell);
                }
            }
        }

        function clickChessSquare(row, col) {
            if (chessGameOver || !whiteToMove) return;
            
            const piece = chessBoard[row][col];
            
            if (selectedChessSquare) {
                // Essaie de d√©placer
                if (isValidChessMove(selectedChessSquare.row, selectedChessSquare.col, row, col)) {
                    chessBoard[row][col] = chessBoard[selectedChessSquare.row][selectedChessSquare.col];
                    chessBoard[selectedChessSquare.row][selectedChessSquare.col] = null;
                    selectedChessSquare = null;
                    
                    if (checkChessGameOver()) {
                        return;
                    }
                    
                    whiteToMove = false;
                    document.getElementById('chess-status').textContent = 'L\'IA r√©fl√©chit...';
                    renderChess();
                    
                    setTimeout(() => {
                        aiMoveChess();
                    }, 500);
                } else {
                    selectedChessSquare = null;
                }
            } else if (piece && piece === piece.toUpperCase()) {
                // S√©lectionne une pi√®ce blanche
                selectedChessSquare = { row, col };
            }
            
            renderChess();
        }

        function isValidChessMove(fromRow, fromCol, toRow, toCol) {
            const piece = chessBoard[fromRow][fromCol];
            const target = chessBoard[toRow][toCol];
            
            // Ne peut pas capturer ses propres pi√®ces
            if (target && target === target.toUpperCase()) return false;
            
            const rowDiff = toRow - fromRow;
            const colDiff = Math.abs(toCol - fromCol);
            
            // R√®gles simplifi√©es
            switch (piece.toUpperCase()) {
                case 'P': // Pion
                    if (piece === 'P') {
                        if (colDiff === 0 && !target) {
                            return rowDiff === -1 || (fromRow === 6 && rowDiff === -2);
                        }
                        return colDiff === 1 && rowDiff === -1 && target;
                    }
                    break;
                case 'R': // Tour
                    return (rowDiff === 0 || colDiff === 0) && isPathClear(fromRow, fromCol, toRow, toCol);
                case 'N': // Cavalier
                    return (Math.abs(rowDiff) === 2 && colDiff === 1) || (Math.abs(rowDiff) === 1 && colDiff === 2);
                case 'B': // Fou
                    return Math.abs(rowDiff) === colDiff && isPathClear(fromRow, fromCol, toRow, toCol);
                case 'Q': // Reine
                    return (rowDiff === 0 || colDiff === 0 || Math.abs(rowDiff) === colDiff) && isPathClear(fromRow, fromCol, toRow, toCol);
                case 'K': // Roi
                    return Math.abs(rowDiff) <= 1 && colDiff <= 1;
            }
            
            return false;
        }

        function isPathClear(fromRow, fromCol, toRow, toCol) {
            const rowStep = Math.sign(toRow - fromRow);
            const colStep = Math.sign(toCol - fromCol);
            let row = fromRow + rowStep;
            let col = fromCol + colStep;
            
            while (row !== toRow || col !== toCol) {
                if (chessBoard[row][col]) return false;
                row += rowStep;
                col += colStep;
            }
            
            return true;
        }

        function aiMoveChess() {
            // IA tr√®s simple : trouve un coup valide al√©atoire
            const moves = [];
            
            for (let fromRow = 0; fromRow < 8; fromRow++) {
                for (let fromCol = 0; fromCol < 8; fromCol++) {
                    const piece = chessBoard[fromRow][fromCol];
                    if (piece && piece === piece.toLowerCase()) {
                        for (let toRow = 0; toRow < 8; toRow++) {
                            for (let toCol = 0; toCol < 8; toCol++) {
                                if (isValidChessMoveAI(fromRow, fromCol, toRow, toCol)) {
                                    moves.push({ fromRow, fromCol, toRow, toCol });
                                }
                            }
                        }
                    }
                }
            }
            
            if (moves.length > 0) {
                const move = moves[Math.floor(Math.random() * moves.length)];
                chessBoard[move.toRow][move.toCol] = chessBoard[move.fromRow][move.fromCol];
                chessBoard[move.fromRow][move.fromCol] = null;
            }
            
            if (checkChessGameOver()) {
                return;
            }
            
            whiteToMove = true;
            document.getElementById('chess-status').textContent = '√Ä toi de jouer (Blancs)';
            renderChess();
        }

        function isValidChessMoveAI(fromRow, fromCol, toRow, toCol) {
            const piece = chessBoard[fromRow][fromCol];
            const target = chessBoard[toRow][toCol];
            
            if (target && target === target.toLowerCase()) return false;
            
            const rowDiff = toRow - fromRow;
            const colDiff = Math.abs(toCol - fromCol);
            
            switch (piece) {
                case 'p':
                    if (colDiff === 0 && !target) {
                        return rowDiff === 1 || (fromRow === 1 && rowDiff === 2);
                    }
                    return colDiff === 1 && rowDiff === 1 && target;
                case 'r':
                    return (rowDiff === 0 || colDiff === 0) && isPathClear(fromRow, fromCol, toRow, toCol);
                case 'n':
                    return (Math.abs(rowDiff) === 2 && colDiff === 1) || (Math.abs(rowDiff) === 1 && colDiff === 2);
                case 'b':
                    return Math.abs(rowDiff) === colDiff && isPathClear(fromRow, fromCol, toRow, toCol);
                case 'q':
                    return (rowDiff === 0 || colDiff === 0 || Math.abs(rowDiff) === colDiff) && isPathClear(fromRow, fromCol, toRow, toCol);
                case 'k':
                    return Math.abs(rowDiff) <= 1 && colDiff <= 1;
            }
            
            return false;
        }

        function checkChessGameOver() {
            let whiteKing = false, blackKing = false;
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    if (chessBoard[row][col] === 'K') whiteKing = true;
                    if (chessBoard[row][col] === 'k') blackKing = true;
                }
            }
            
            if (!whiteKing) {
                document.getElementById('chess-status').textContent = 'üòÖ L\'IA a gagn√© !';
                chessGameOver = true;
                return true;
            }
            
            if (!blackKing) {
                document.getElementById('chess-status').textContent = 'üéâ Tu as gagn√© !';
                chessGameOver = true;
                return true;
            }
            
            return false;
        }

        startChess();

        // CHECKERS GAME
        let checkersBoard = [];
        let selectedChecker = null;
        let playerTurn = true; // true = noir (joueur), false = blanc (IA)
        let checkersGameOver = false;
        let mustCapture = false;

        function startCheckers() {
            // Initialise le plateau de dames
            checkersBoard = Array(8).fill(null).map(() => Array(8).fill(null));
            
            // Place les pions noirs (joueur) en haut
            for (let row = 0; row < 3; row++) {
                for (let col = 0; col < 8; col++) {
                    if ((row + col) % 2 === 1) {
                        checkersBoard[row][col] = 'b'; // black
                    }
                }
            }
            
            // Place les pions blancs (IA) en bas
            for (let row = 5; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    if ((row + col) % 2 === 1) {
                        checkersBoard[row][col] = 'w'; // white
                    }
                }
            }
            
            selectedChecker = null;
            playerTurn = true;
            checkersGameOver = false;
            mustCapture = false;
            document.getElementById('checkers-status').textContent = '√Ä toi de jouer (Noirs)';
            renderCheckers();
        }

        function renderCheckers() {
            const board = document.getElementById('checkers-board');
            board.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'checkers-cell ' + ((row + col) % 2 === 0 ? 'white' : 'black');
                    
                    if (selectedChecker && selectedChecker.row === row && selectedChecker.col === col) {
                        cell.classList.add('selected');
                    }
                    
                    const piece = checkersBoard[row][col];
                    if (piece) {
                        cell.textContent = piece === 'b' ? '‚ö´' : piece === 'B' ? '‚¨õ' : piece === 'w' ? '‚ö™' : '‚¨ú';
                    }
                    
                    cell.onclick = () => clickCheckersSquare(row, col);
                    board.appendChild(cell);
                }
            }
        }

        function clickCheckersSquare(row, col) {
            if (checkersGameOver || !playerTurn) return;
            
            const piece = checkersBoard[row][col];
            
            if (selectedChecker) {
                const validMoves = getValidCheckersMoves(selectedChecker.row, selectedChecker.col);
                const moveIndex = validMoves.findIndex(m => m.toRow === row && m.toCol === col);
                
                if (moveIndex !== -1) {
                    const move = validMoves[moveIndex];
                    
                    // D√©place la pi√®ce
                    checkersBoard[row][col] = checkersBoard[selectedChecker.row][selectedChecker.col];
                    checkersBoard[selectedChecker.row][selectedChecker.col] = null;
                    
                    // Promotion en dame
                    if (row === 7 && checkersBoard[row][col] === 'b') {
                        checkersBoard[row][col] = 'B';
                    }
                    
                    // Capture
                    if (move.captured) {
                        checkersBoard[move.captured.row][move.captured.col] = null;
                    }
                    
                    selectedChecker = null;
                    
                    if (checkCheckersGameOver()) {
                        return;
                    }
                    
                    playerTurn = false;
                    document.getElementById('checkers-status').textContent = 'L\'IA r√©fl√©chit...';
                    renderCheckers();
                    
                    setTimeout(() => {
                        aiMoveCheckers();
                    }, 500);
                } else {
                    selectedChecker = null;
                }
            } else if (piece && (piece === 'b' || piece === 'B')) {
                selectedChecker = { row, col };
            }
            
            renderCheckers();
        }

        function getValidCheckersMoves(row, col) {
            const piece = checkersBoard[row][col];
            const moves = [];
            const isKing = piece === 'B' || piece === 'W';
            const isBlack = piece === 'b' || piece === 'B';
            
            const directions = isKing ? 
                [[-1, -1], [-1, 1], [1, -1], [1, 1]] : 
                isBlack ? [[1, -1], [1, 1]] : [[-1, -1], [-1, 1]];
            
            // Mouvements simples
            for (let [dRow, dCol] of directions) {
                const newRow = row + dRow;
                const newCol = col + dCol;
                
                if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8 && !checkersBoard[newRow][newCol]) {
                    moves.push({ toRow: newRow, toCol: newCol, captured: null });
                }
            }
            
            // Captures
            for (let [dRow, dCol] of directions) {
                const jumpRow = row + dRow * 2;
                const jumpCol = col + dCol * 2;
                const midRow = row + dRow;
                const midCol = col + dCol;
                
                if (jumpRow >= 0 && jumpRow < 8 && jumpCol >= 0 && jumpCol < 8) {
                    const middle = checkersBoard[midRow][midCol];
                    if (middle && !checkersBoard[jumpRow][jumpCol]) {
                        const isOpponent = isBlack ? 
                            (middle === 'w' || middle === 'W') : 
                            (middle === 'b' || middle === 'B');
                        
                        if (isOpponent) {
                            moves.push({ 
                                toRow: jumpRow, 
                                toCol: jumpCol, 
                                captured: { row: midRow, col: midCol }
                            });
                        }
                    }
                }
            }
            
            return moves;
        }

        function aiMoveCheckers() {
            // Trouve tous les coups possibles pour l'IA
            const allMoves = [];
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const piece = checkersBoard[row][col];
                    if (piece === 'w' || piece === 'W') {
                        const moves = getValidCheckersMoves(row, col);
                        moves.forEach(move => {
                            allMoves.push({ fromRow: row, fromCol: col, ...move });
                        });
                    }
                }
            }
            
            if (allMoves.length > 0) {
                // Priorit√© aux captures
                const captures = allMoves.filter(m => m.captured);
                const move = captures.length > 0 ? 
                    captures[Math.floor(Math.random() * captures.length)] :
                    allMoves[Math.floor(Math.random() * allMoves.length)];
                
                checkersBoard[move.toRow][move.toCol] = checkersBoard[move.fromRow][move.fromCol];
                checkersBoard[move.fromRow][move.fromCol] = null;
                
                // Promotion
                if (move.toRow === 0 && checkersBoard[move.toRow][move.toCol] === 'w') {
                    checkersBoard[move.toRow][move.toCol] = 'W';
                }
                
                if (move.captured) {
                    checkersBoard[move.captured.row][move.captured.col] = null;
                }
            }
            
            if (checkCheckersGameOver()) {
                return;
            }
            
            playerTurn = true;
            document.getElementById('checkers-status').textContent = '√Ä toi de jouer (Noirs)';
            renderCheckers();
        }

        function checkCheckersGameOver() {
            let blackPieces = 0, whitePieces = 0;
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const piece = checkersBoard[row][col];
                    if (piece === 'b' || piece === 'B') blackPieces++;
                    if (piece === 'w' || piece === 'W') whitePieces++;
                }
            }
            
            if (blackPieces === 0) {
                document.getElementById('checkers-status').textContent = 'üòÖ L\'IA a gagn√© !';
                checkersGameOver = true;
                return true;
            }
            
            if (whitePieces === 0) {
                document.getElementById('checkers-status').textContent = 'üéâ Tu as gagn√© !';
                checkersGameOver = true;
                return true;
            }
            
            return false;
        }

        // --- NOUVEAUX JEUX: impl√©mentation JS ---

        // RPS
        let rpsPlaying = false;
        function playRPS(choice) {
            const opts = ['rock','paper','scissors'];
            const comp = opts[Math.floor(Math.random()*3)];
            let result = '';
            if (choice === comp) result = '√âgalit√© !';
            else if ((choice==='rock'&&comp==='scissors')||(choice==='paper'&&comp==='rock')||(choice==='scissors'&&comp==='paper')) result = 'Tu gagnes !';
            else result = 'L\'ordi gagne !';
            document.getElementById('rps-result').textContent = `Tu: ${choice} ‚Äî Ordi: ${comp} ‚Üí ${result}`;
        }

        // Guess the number
        let guessRunning = false;
        let secretNumber = 0;
        function startGuess() {
            secretNumber = Math.floor(Math.random()*100)+1;
            guessRunning = true;
            document.getElementById('guess-status').textContent = 'Nouvelle partie ! J\'ai choisi un nombre entre 1 et 100.';
            document.getElementById('guess-input').value = '';
        }
        function submitGuess(){
            if(!guessRunning) startGuess();
            const val = parseInt(document.getElementById('guess-input').value,10);
            if(!val){ document.getElementById('guess-status').textContent = 'Entre un nombre valide !'; return; }
            if(val === secretNumber){ document.getElementById('guess-status').textContent = `üéâ Correct ! C'√©tait ${secretNumber}.`; guessRunning=false; }
            else if(val < secretNumber) document.getElementById('guess-status').textContent = 'Trop petit !';
            else document.getElementById('guess-status').textContent = 'Trop grand !';
        }

        // Simon Says
        let simonSequence = [];
        let simonPlayer = [];
        let simonRunning = false;
        function startSimon(){
            simonSequence = [];
            simonPlayer = [];
            simonRound();
        }
        function simonRound(){
            const next = Math.floor(Math.random()*4);
            simonSequence.push(next);
            document.getElementById('simon-status').textContent = `Round ${simonSequence.length}`;
            playSimonSequence(0);
        }
        function playSimonSequence(i){
            if(i>=simonSequence.length) { simonPlayer = []; simonRunning = true; document.getElementById('simon-status').textContent='√Ä toi !'; return; }
            const idx = simonSequence[i];
            const el = document.getElementById('simon-'+idx);
            const old = el.style.opacity;
            el.style.filter = 'brightness(1.6)';
            setTimeout(()=>{ el.style.filter=''; playSimonSequence(i+1); }, 600);
        }
        document.getElementById('simon-0').onclick = ()=>simonClick(0);
        document.getElementById('simon-1').onclick = ()=>simonClick(1);
        document.getElementById('simon-2').onclick = ()=>simonClick(2);
        document.getElementById('simon-3').onclick = ()=>simonClick(3);
        function simonClick(i){
            if(!simonRunning) return;
            simonPlayer.push(i);
            // jouer un flash
            const el = document.getElementById('simon-'+i);
            el.style.transform='scale(1.05)';
            setTimeout(()=>el.style.transform='',150);
            const pos = simonPlayer.length-1;
            if(simonPlayer[pos] !== simonSequence[pos]){
                simonRunning = false;
                document.getElementById('simon-status').textContent = '‚ùå Rat√© ! Recommence.';
                return;
            }
            if(simonPlayer.length === simonSequence.length){
                simonRunning = false;
                document.getElementById('simon-status').textContent = '‚úÖ Bien jou√© ! Pr√©pare la prochaine...';
                setTimeout(simonRound,700);
            }
        }

        // Whack-a-Mole
        let moleInterval = null;
        let moleScore = 0;
        let moleRunning = false;
        function startMole(){
            const grid = document.getElementById('mole-grid');
            grid.innerHTML = '';
            moleScore = 0;
            document.getElementById('mole-status').textContent = 'Score: 0';
            for(let i=0;i<9;i++){
                const cell = document.createElement('div');
                cell.style.width='120px'; cell.style.height='80px'; cell.style.background='#95a5a6'; cell.style.borderRadius='8px'; cell.style.display='flex'; cell.style.alignItems='center'; cell.style.justifyContent='center'; cell.style.cursor='pointer';
                cell.dataset.index = i;
                cell.onclick = ()=>{ if(cell.dataset.has==='1'){ moleScore++; cell.dataset.has='0'; cell.textContent=''; document.getElementById('mole-status').textContent = 'Score: '+moleScore; } };
                grid.appendChild(cell);
            }
            moleRunning = true;
            moleInterval = setInterval(()=>{
                const cells = Array.from(document.getElementById('mole-grid').children);
                cells.forEach(c=>{ c.dataset.has='0'; c.textContent=''; });
                const idx = Math.floor(Math.random()*cells.length);
                const target = cells[idx];
                target.dataset.has='1';
                target.textContent='ü¶´';
                setTimeout(()=>{ if(target.dataset.has==='1'){ target.dataset.has='0'; target.textContent=''; } },700);
            },700);
            // arr√™ter apr√®s 20s
            setTimeout(()=>{ clearInterval(moleInterval); moleRunning=false; alert('Fin du jeu ! Score: '+moleScore); },20000);
        }

        // HANGMAN
        let hangmanRunning = false;
        const hangmanWords = [
    'voiture', 'maison', 'arbre', 'livre', 'chaise', 'table', '√©cran', 'souris', 'clavier', 'lampe',
    'fen√™tre', 'porte', 'mur', 'sol', 'plafond', 'tapis', 'canap√©', 'lit', 'oreiller', 'couverture',
    'miroir', 'cadre', 'photo', 'bouteille', 'verre', 'assiette', 'fourchette', 'couteau', 'cuill√®re', 'casserole',
    'po√™le', 'frigo', 'caca', 'grille', 'bouilloire', '√©vier', 'robinet', 'serviette', 'savon', 'shampoing',
    'brosse', 'peigne', 'parfum', 'chaussette', 'pantalon', 'chemise', 'robe', 'jupe', 'pull', 'manteau',
    'chaussure', 'ceinture', 'chapeau', 'gant', '√©charpe', 'lunettes', 'montre', 'sac', 'cl√©', 'valise',
    'v√©lo', 'moto', 'bus', 'train', 'avion', 'bateau', 'plage', 'montagne', 'fleur', 'plante',
    'jardin', 'chemin', 'route', 'rue', 'feu', '√©toile', 'lune', 'soleil', 'nuage', 'pluie',
    'neige', 'vent', 'mer', 'rivi√®re', 'lac', 'pont', 'd√©sert', 'volcan', 'pomme', 'banane',
    'orange', 'raisin', 'fraise', 'p√™che', 'poire', 'kiwi', 'citron', 'tomate', 'carotte', 'patate',
    'oignon', 'ail', 'salade', 'pain', 'fromage', 'lait', '≈ìuf', 'poulet', 'b≈ìuf', 'poisson',
    'riz', 'p√¢tes', 'sucre', 'sel', 'huile', 'vinaigre', 'caf√©', 'th√©', 'eau', 'vin'
];

        let hangmanWord = '';
        let hangmanGuessed = [];
        let hangmanTries = 0;
        function startHangman(){
            hangmanWord = hangmanWords[Math.floor(Math.random()*hangmanWords.length)];
            hangmanGuessed = [];
            hangmanTries = 6;
            hangmanRunning = true;
            document.getElementById('hangman-status').textContent = `Il te reste ${hangmanTries} essais.`;
            renderHangman();
        }
        function renderHangman(){
            const disp = hangmanWord.split('').map(ch => hangmanGuessed.includes(ch)?ch:'_').join(' ');
            document.getElementById('hangman-word').textContent = disp;
            if(!disp.includes('_')){ document.getElementById('hangman-status').textContent = 'üéâ Tu as gagn√© !'; hangmanRunning=false; }
            if(hangmanTries<=0){ document.getElementById('hangman-status').textContent = `üíÄ Perdu ! Le mot √©tait ${hangmanWord}`; hangmanRunning=false; }
        }
        function guessLetter(){
            if(!hangmanRunning) return startHangman();
            const ch = (document.getElementById('hangman-input').value||'').toLowerCase();
            document.getElementById('hangman-input').value = '';
            if(!ch) return;
            if(hangmanGuessed.includes(ch)) return;
            if(hangmanWord.includes(ch)){
                hangmanGuessed.push(ch);
            } else { hangmanTries--; document.getElementById('hangman-status').textContent = `Il te reste ${hangmanTries} essais.`; }
            renderHangman();
        }

        // SLOT MACHINE
        let slotRunning = false;
        const slotSymbols = ['üçí','üçã','üçä','üîî','‚≠ê','7Ô∏è‚É£'];
        function spinSlot(){
            const a = slotSymbols[Math.floor(Math.random()*slotSymbols.length)];
            const b = slotSymbols[Math.floor(Math.random()*slotSymbols.length)];
            const c = slotSymbols[Math.floor(Math.random()*slotSymbols.length)];
            document.getElementById('slot-reels').textContent = `${a} ${b} ${c}`;
            if(a===b && b===c) document.getElementById('slot-status').textContent = 'üéâ Jackpot !';
            else if(a===b||b===c||a===c) document.getElementById('slot-status').textContent = 'üëå Petit gain';
            else document.getElementById('slot-status').textContent = '‚ùå Perdu';
        }

        // SNAKE (simple)
        let snakeInterval = null;
        let snakeRunning = false;
        function startSnake(){
            const canvas = document.getElementById('snake-canvas');
            const ctx = canvas.getContext('2d');
            const size = 15; // cells
            const cellW = canvas.width/size;
            let snake = [{x:7,y:7}];
            let dir = {x:1,y:0};
            let food = {x:Math.floor(Math.random()*size), y:Math.floor(Math.random()*size)};
            snakeRunning = true;
            document.getElementById('snake-status').textContent = '';
            function draw(){
                ctx.clearRect(0,0,canvas.width,canvas.height);
                // food
                ctx.fillStyle='red'; ctx.fillRect(food.x*cellW,food.y*cellW,cellW,cellW);
                // snake
                ctx.fillStyle='green'; snake.forEach(s=>ctx.fillRect(s.x*cellW,s.y*cellW,cellW-1,cellW-1));
            }
            function step(){
                const head = {x:snake[0].x+dir.x, y:snake[0].y+dir.y};
                if(head.x<0||head.x>=size||head.y<0||head.y>=size||snake.some(s=>s.x===head.x&&s.y===head.y)){
                    clearInterval(snakeInterval); snakeRunning=false; document.getElementById('snake-status').textContent='üí• Game over'; return;
                }
                snake.unshift(head);
                if(head.x===food.x&&head.y===food.y){
                    food = {x:Math.floor(Math.random()*size), y:Math.floor(Math.random()*size)};
                } else snake.pop();
                draw();
            }
            document.onkeydown = function(e){ if(!snakeRunning) return; switch(e.key){ case 'ArrowUp': if(dir.y!==1) dir={x:0,y:-1}; break; case 'ArrowDown': if(dir.y!==-1) dir={x:0,y:1}; break; case 'ArrowLeft': if(dir.x!==1) dir={x:-1,y:0}; break; case 'ArrowRight': if(dir.x!==-1) dir={x:1,y:0}; break; } };
            draw();
            clearInterval(snakeInterval);
            snakeInterval = setInterval(step,120);
        }

        // MATH QUIZ
        let quizRunning = false;
        let quizAnswer = 0;
        function nextQuiz(){
            const a = Math.floor(Math.random()*20)+1;
            const b = Math.floor(Math.random()*20)+1;
            quizAnswer = a + b;
            document.getElementById('quiz-question').textContent = `Combien font ${a} + ${b} ?`;
            document.getElementById('quiz-status').textContent = '';
            quizRunning = true;
            document.getElementById('quiz-input').value = '';
        }
        function submitQuiz(){
            if(!quizRunning) return nextQuiz();
            const v = parseInt(document.getElementById('quiz-input').value,10);
            if(v===quizAnswer) document.getElementById('quiz-status').textContent = '‚úÖ Correct !';
            else document.getElementById('quiz-status').textContent = `‚ùå Faux, c'√©tait ${quizAnswer}`;
        }

        // RACING GAME 2D
        let racingRunning = false;
        let racingScore = 0;
        function startRacing(){
            const canvas = document.getElementById('racing-canvas');
            const ctx = canvas.getContext('2d');
            racingScore = 0;
            let playerX = canvas.width/2 - 15;
            const playerW = 30, playerH = 40;
            let obstacles = [];
            let gameTime = 0;
            racingRunning = true;
            document.getElementById('racing-status').textContent = 'Score: 0';
            
            // Mouvements du joueur
            document.onkeydown = (e) => {
                if(!racingRunning) return;
                if(e.key === 'ArrowLeft' && playerX > 0) playerX -= 20;
                if(e.key === 'ArrowRight' && playerX < canvas.width - playerW) playerX += 20;
            };
            
            function drawGame(){
                // Fond route
                ctx.fillStyle = '#333';
                ctx.fillRect(0,0,canvas.width,canvas.height);
                ctx.strokeStyle = '#fff';
                ctx.setLineDash([20,10]);
                ctx.lineWidth = 2;
                ctx.beginPath(); ctx.moveTo(canvas.width/2,0); ctx.lineTo(canvas.width/2,canvas.height); ctx.stroke();
                ctx.setLineDash([]);
                
                // Joueur
                ctx.fillStyle = '#ff6b6b';
                ctx.fillRect(playerX, canvas.height - 50, playerW, playerH);
                
                // Obstacles
                obstacles.forEach((obs, i) => {
                    ctx.fillStyle = '#4ecdc4';
                    ctx.fillRect(obs.x, obs.y, obs.w, obs.h);
                    obs.y += 5;
                    
                    // Collision
                    if(obs.y + obs.h > canvas.height - 50 && obs.y < canvas.height &&
                       obs.x < playerX + playerW && obs.x + obs.w > playerX){
                        racingRunning = false;
                        alert(`Crash! Score: ${racingScore}`);
                        return;
                    }
                    
                    // Remove obstacle
                    if(obs.y > canvas.height){
                        obstacles.splice(i,1);
                        racingScore += 10;
                        document.getElementById('racing-status').textContent = `Score: ${racingScore}`;
                    }
                });
                
                // Nouvelle obstacle
                gameTime++;
                if(gameTime % 60 === 0 && racingRunning){
                    const x = Math.random() * (canvas.width - 50);
                    obstacles.push({x, y: -40, w: 50, h: 40});
                }
                
                if(racingRunning) requestAnimationFrame(drawGame);
            }
            drawGame();
        }

        // DINOSAUR RUNNER
        let dinoRunning = false;
        let dinoScore = 0;
        function startDino(){
            const canvas = document.getElementById('dino-canvas');
            const ctx = canvas.getContext('2d');
            dinoScore = 0;
            let dino = {x: 50, y: canvas.height - 60, w: 40, h: 50, vy: 0, jumping: false};
            let cactus = [];
            let gameFrame = 0;
            const gravity = 0.6;
            dinoRunning = true;
            document.getElementById('dino-status').textContent = 'Score: 0';
            
            document.onkeydown = (e) => {
                if(e.code === 'Space' && !dino.jumping && dinoRunning){
                    dino.vy = -12;
                    dino.jumping = true;
                }
            };
            
            function drawDino(){
                // Sol
                ctx.fillStyle = '#999';
                ctx.fillRect(0, canvas.height - 20, canvas.width, 20);
                
                // Dino
                ctx.fillStyle = '#2ecc71';
                ctx.fillRect(dino.x, dino.y, dino.w, dino.h);
                
                // Physique
                dino.vy += gravity;
                dino.y += dino.vy;
                if(dino.y > canvas.height - 20 - dino.h){
                    dino.y = canvas.height - 20 - dino.h;
                    dino.jumping = false;
                    dino.vy = 0;
                }
                
                // Cactus
                cactus.forEach((obs, i) => {
                    ctx.fillStyle = '#c0392b';
                    ctx.fillRect(obs.x, obs.y, obs.w, obs.h);
                    obs.x -= 7;
                    
                    // Collision
                    if(dino.x + dino.w > obs.x && dino.x < obs.x + obs.w &&
                       dino.y + dino.h > obs.y && dino.y < obs.y + obs.h){
                        dinoRunning = false;
                        alert(`Game Over! Score: ${dinoScore}`);
                        return;
                    }
                    
                    if(obs.x < -20) cactus.splice(i,1);
                });
                
                gameFrame++;
                if(gameFrame % 120 === 0 && dinoRunning){
                    cactus.push({x: canvas.width, y: canvas.height - 50, w: 20, h: 40});
                }
                
                dinoScore = gameFrame / 2;
                document.getElementById('dino-status').textContent = `Score: ${Math.floor(dinoScore)}`;
                
                if(dinoRunning) requestAnimationFrame(drawDino);
            }
            drawDino();
        }

        // BREAKOUT
        let breakoutRunning = false;
        let breakoutScore = 0;
        function startBreakout(){
            const canvas = document.getElementById('breakout-canvas');
            const ctx = canvas.getContext('2d');
            breakoutScore = 0;
            
            let paddle = {x: canvas.width/2 - 40, y: canvas.height - 20, w: 80, h: 10};
            let ball = {x: canvas.width/2, y: canvas.height - 40, r: 6, vx: 4, vy: -4};
            let bricks = [];
            
            // Cr√©e grille de briques
            for(let row = 0; row < 4; row++){
                for(let col = 0; col < 8; col++){
                    bricks.push({x: col*60, y: row*20 + 20, w: 55, h: 15});
                }
            }
            
            breakoutRunning = true;
            document.getElementById('breakout-status').textContent = 'Score: 0';
            
            document.onmousemove = (e) => {
                const rect = canvas.getBoundingClientRect();
                paddle.x = e.clientX - rect.left - paddle.w/2;
                if(paddle.x < 0) paddle.x = 0;
                if(paddle.x + paddle.w > canvas.width) paddle.x = canvas.width - paddle.w;
            };
            
            function draw(){
                ctx.fillStyle = '#000';
                ctx.fillRect(0,0,canvas.width,canvas.height);
                
                // Briques
                ctx.fillStyle = '#e74c3c';
                bricks.forEach((b, i) => {
                    ctx.fillRect(b.x, b.y, b.w, b.h);
                    
                    if(ball.x - ball.r < b.x + b.w && ball.x + ball.r > b.x &&
                       ball.y - ball.r < b.y + b.h && ball.y + ball.r > b.y){
                        bricks.splice(i,1);
                        ball.vy *= -1;
                        breakoutScore += 10;
                        document.getElementById('breakout-status').textContent = `Score: ${breakoutScore}`;
                    }
                });
                
                // Paddle
                ctx.fillStyle = '#fff';
                ctx.fillRect(paddle.x, paddle.y, paddle.w, paddle.h);
                
                // Balle
                ctx.fillStyle = '#fff';
                ctx.beginPath(); ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2); ctx.fill();
                
                // Physique balle
                ball.x += ball.vx;
                ball.y += ball.vy;
                
                if(ball.x - ball.r < 0 || ball.x + ball.r > canvas.width) ball.vx *= -1;
                if(ball.y - ball.r < 0) ball.vy *= -1;
                
                // Paddle collision
                if(ball.y + ball.r > paddle.y && ball.y - ball.r < paddle.y + paddle.h &&
                   ball.x > paddle.x && ball.x < paddle.x + paddle.w){
                    ball.vy *= -1;
                }
                
                if(ball.y > canvas.height){
                    breakoutRunning = false;
                    alert(`Game Over! Score: ${breakoutScore}`);
                    return;
                }
                
                if(bricks.length === 0){
                    breakoutRunning = false;
                    alert(`Gagn√©! Score: ${breakoutScore}`);
                    return;
                }
                
                if(breakoutRunning) requestAnimationFrame(draw);
            }
            draw();
        }

        // FLAPPY BIRD
        let flappyRunning = false;
        let flappyScore = 0;
        function startFlappy(){
            const canvas = document.getElementById('flappy-canvas');
            const ctx = canvas.getContext('2d');
            flappyScore = 0;
            
            let bird = {x: 50, y: canvas.height/2, r: 15, vy: 0};
            let pipes = [];
            let gameFrame = 0;
            const gravity = 0.4;
            const pipeW = 60;
            const pipeGap = 120;
            
            flappyRunning = true;
            document.getElementById('flappy-status').textContent = 'Score: 0';
            
            document.onmousedown = () => {
                if(flappyRunning) bird.vy = -8;
            };
            
            function draw(){
                ctx.fillStyle = '#87ceeb';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Bird
                ctx.fillStyle = '#ffeb3b';
                ctx.beginPath(); ctx.arc(bird.x, bird.y, bird.r, 0, Math.PI*2); ctx.fill();
                
                // Physique
                bird.vy += gravity;
                bird.y += bird.vy;
                
                // Pipes
                ctx.fillStyle = '#2ecc71';
                pipes.forEach((p, i) => {
                    // Top
                    ctx.fillRect(p.x, 0, pipeW, p.topH);
                    // Bottom
                    ctx.fillRect(p.x, p.topH + pipeGap, pipeW, canvas.height - p.topH - pipeGap);
                    
                    p.x -= 5;
                    
                    // Collision
                    if(bird.x + bird.r > p.x && bird.x - bird.r < p.x + pipeW){
                        if(bird.y - bird.r < p.topH || bird.y + bird.r > p.topH + pipeGap){
                            flappyRunning = false;
                            alert(`Game Over! Score: ${flappyScore}`);
                        }
                    }
                    
                    if(p.x + pipeW < bird.x && !p.scored){
                        p.scored = true;
                        flappyScore++;
                        document.getElementById('flappy-status').textContent = `Score: ${flappyScore}`;
                    }
                    
                    if(p.x < -pipeW) pipes.splice(i, 1);
                });
                
                if(bird.y + bird.r > canvas.height || bird.y - bird.r < 0){
                    flappyRunning = false;
                    alert(`Game Over! Score: ${flappyScore}`);
                }
                
                gameFrame++;
                if(gameFrame % 150 === 0 && flappyRunning){
                    const topH = Math.random() * (canvas.height - pipeGap - 50) + 30;
                    pipes.push({x: canvas.width, topH: topH, scored: false});
                }
                
                if(flappyRunning) requestAnimationFrame(draw);
            }
            draw();
        }

        // --- NEW MINI-GAMES: Puzzle15, Lights Out, Bubble Pop ---

        // PUZZLE 15
        let puzzle15State = [];
        function startPuzzle15(){
            // create solved state
            puzzle15State = Array.from({length:16},(_,i)=>i<15?i+1:0);
            // shuffle by making legal random moves from solved state
            for(let k=0;k<300;k++){
                const empty = puzzle15State.indexOf(0);
                const r = Math.floor(empty/4), c = empty%4;
                const moves = [];
                if(r>0) moves.push((r-1)*4+c);
                if(r<3) moves.push((r+1)*4+c);
                if(c>0) moves.push(r*4+(c-1));
                if(c<3) moves.push(r*4+(c+1));
                const m = moves[Math.floor(Math.random()*moves.length)];
                puzzle15State[empty]=puzzle15State[m]; puzzle15State[m]=0;
            }
            document.getElementById('puzzle15-status').textContent='Remets les tuiles dans l\'ordre.';
            renderPuzzle15();
        }
        function renderPuzzle15(){
            const grid = document.getElementById('puzzle15-grid');
            grid.innerHTML='';
            puzzle15State.forEach((v,i)=>{
                const el = document.createElement('div');
                el.style.width='80px'; el.style.height='80px'; el.style.display='flex'; el.style.alignItems='center'; el.style.justifyContent='center'; el.style.background=v? '#fff':'transparent'; el.style.border='1px solid #333'; el.style.fontSize='1.2em'; el.style.cursor=v?'pointer':'default';
                el.textContent = v? v : '';
                el.onclick = ()=>{
                    if(!v) return;
                    const empty = puzzle15State.indexOf(0);
                    const r1 = Math.floor(i/4), c1 = i%4;
                    const r2 = Math.floor(empty/4), c2 = empty%4;
                    const manh = Math.abs(r1-r2)+Math.abs(c1-c2);
                    if(manh===1){ puzzle15State[empty]=puzzle15State[i]; puzzle15State[i]=0; renderPuzzle15(); checkPuzzle15Win(); }
                };
                grid.appendChild(el);
            });
        }
        function checkPuzzle15Win(){
            for(let i=0;i<15;i++) if(puzzle15State[i]!==i+1) return;
            document.getElementById('puzzle15-status').textContent='üéâ Tu as gagn√© !';
        }

        // LIGHTS OUT (5x5)
        let lightsOutState = [];
        function startLightsOut(){
            lightsOutState = Array.from({length:25},()=>Math.random()<0.5?1:0);
            document.getElementById('lightsout-status').textContent='√âteins toutes les lumi√®res.';
            renderLightsOut();
        }
        function renderLightsOut(){
            const grid = document.getElementById('lightsout-grid'); grid.innerHTML='';
            lightsOutState.forEach((on,i)=>{
                const btn = document.createElement('div');
                btn.style.width='60px'; btn.style.height='60px'; btn.style.display='flex'; btn.style.alignItems='center'; btn.style.justifyContent='center'; btn.style.cursor='pointer'; btn.style.borderRadius='6px'; btn.style.background = on? '#ffd54f' : '#444';
                btn.onclick = ()=>{ toggleLight(i); };
                grid.appendChild(btn);
            });
        }
        function toggleLight(i){
            const r = Math.floor(i/5), c = i%5;
            const idxs = [i, (r>0?i-5:null), (r<4?i+5:null), (c>0?i-1:null), (c<4?i+1:null)].filter(x=>x!==null);
            idxs.forEach(ix=> lightsOutState[ix] = lightsOutState[ix]?0:1);
            renderLightsOut();
            if(lightsOutState.every(v=>v===0)) document.getElementById('lightsout-status').textContent='üéâ Gagn√© !';
        }

        // BUBBLE POP
        let bubbleScore = 0;
        let bubbleTimer = null;
        function startBubblePop(){
            const grid = document.getElementById('bubble-grid'); grid.innerHTML=''; bubbleScore = 0; document.getElementById('bubble-status').textContent='Score: 0';
            for(let i=0;i<30;i++){
                const b = document.createElement('div');
                b.style.width='60px'; b.style.height='60px'; b.style.borderRadius='50%'; b.style.background='#7f8c8d'; b.style.display='flex'; b.style.alignItems='center'; b.style.justifyContent='center'; b.style.cursor='pointer'; b.textContent='';
                b.onclick = ()=>{ if(b.dataset.popped==='1') return; b.dataset.popped='1'; b.style.visibility='hidden'; bubbleScore++; document.getElementById('bubble-status').textContent='Score: '+bubbleScore; };
                grid.appendChild(b);
            }
            // timer 20s
            clearTimeout(bubbleTimer);
            bubbleTimer = setTimeout(()=>{ alert('Fin! Score: '+bubbleScore); },20000);
        }

        // --- ADDITIONAL GAMES JS ---

        // 2048 (simple)
        let g2048 = Array(16).fill(0);
        let g2048Score = 0;
        function start2048(){
            g2048 = Array(16).fill(0); g2048Score = 0; game2048Running = true;
            spawn2048(); spawn2048(); render2048();
            document.getElementById('g2048-status').textContent = `Score: ${g2048Score}`;
        }
        function spawn2048(){
            const empties = g2048.map((v,i)=>v===0?i:null).filter(i=>i!==null);
            if(empties.length===0) return;
            const idx = empties[Math.floor(Math.random()*empties.length)];
            g2048[idx] = Math.random()<0.9?2:4;
        }
        function render2048(){
            const grid = document.getElementById('g2048-grid'); grid.innerHTML='';
            g2048.forEach(v=>{ const el=document.createElement('div'); el.style.width='80px'; el.style.height='80px'; el.style.display='flex'; el.style.alignItems='center'; el.style.justifyContent='center'; el.style.background=v? '#f1c40f':'#ddd'; el.style.border='1px solid #999'; el.style.fontSize='1.2em'; el.textContent = v||''; grid.appendChild(el); });
        }
        function move2048(dir){
            // dir: 'L','R','U','D'
            let moved=false;
            const get = (r,c)=>g2048[r*4+c];
            const set = (r,c,v)=>{ g2048[r*4+c]=v; };
            if(dir==='L' || dir==='R'){
                for(let r=0;r<4;r++){
                    let row = [];
                    for(let c=0;c<4;c++) row.push(get(r,c));
                    if(dir==='R') row.reverse();
                    const compressed = [];
                    for(let i=0;i<4;i++) if(row[i]) compressed.push(row[i]);
                    for(let i=0;i<compressed.length-1;i++){
                        if(compressed[i]===compressed[i+1]){ compressed[i]*=2; g2048Score+=compressed[i]; compressed.splice(i+1,1); }
                    }
                    while(compressed.length<4) compressed.push(0);
                    if(dir==='R') compressed.reverse();
                    for(let c=0;c<4;c++) if(get(r,c)!==compressed[c]) moved=true;
                    for(let c=0;c<4;c++) set(r,c,compressed[c]);
                }
            } else {
                for(let c=0;c<4;c++){
                    let col = [];
                    for(let r=0;r<4;r++) col.push(get(r,c));
                    if(dir==='D') col.reverse();
                    const compressed=[]; for(let i=0;i<4;i++) if(col[i]) compressed.push(col[i]);
                    for(let i=0;i<compressed.length-1;i++){ if(compressed[i]===compressed[i+1]){ compressed[i]*=2; g2048Score+=compressed[i]; compressed.splice(i+1,1); } }
                    while(compressed.length<4) compressed.push(0);
                    if(dir==='D') compressed.reverse();
                    for(let r=0;r<4;r++) if(get(r,c)!==compressed[r]) moved=true;
                    for(let r=0;r<4;r++) set(r,c,compressed[r]);
                }
            }
            if(moved){ spawn2048(); render2048(); document.getElementById('g2048-status').textContent = `Score: ${g2048Score}`; check2048End(); }
        }
        function check2048End(){ if(g2048.includes(2048)){ alert('üéâ Tu as atteint 2048 !'); game2048Running=false; } else if(g2048.every(v=>v!==0) && !canMove2048()){ alert('Perdu !'); game2048Running=false; } }
        function canMove2048(){ for(let r=0;r<4;r++) for(let c=0;c<4;c++){ const v=g2048[r*4+c]; if((c<3 && g2048[r*4+c+1]===v)||(r<3 && g2048[(r+1)*4+c]===v)) return true; } return false; }
        document.addEventListener('keydown', (e)=>{ if(!game2048Running) return; if(e.key==='ArrowLeft') move2048('L'); if(e.key==='ArrowRight') move2048('R'); if(e.key==='ArrowUp') move2048('U'); if(e.key==='ArrowDown') move2048('D'); });

        // MINESWEEPER (5x5)
        let minesGrid=[], minesRevealed=[]; let minesCount=5;
        function startMines(){
            minesGrid = Array(25).fill(0); minesRevealed = Array(25).fill(false); minesRunning=true;
            // place bombs
            let placed=0; while(placed<minesCount){ const i=Math.floor(Math.random()*25); if(minesGrid[i]===-1) continue; minesGrid[i]=-1; placed++; }
            // numbers
            for(let i=0;i<25;i++) if(minesGrid[i]!==-1){ let n=0; const r=Math.floor(i/5), c=i%5; for(let dr=-1;dr<=1;dr++) for(let dc=-1;dc<=1;dc++){ const rr=r+dr, cc=c+dc; if(rr>=0&&rr<5&&cc>=0&&cc<5){ if(minesGrid[rr*5+cc]===-1) n++; } } minesGrid[i]=n; }
            document.getElementById('mines-status').textContent='Bonne chance.'; renderMines();
        }
        function renderMines(){ const grid=document.getElementById('mines-grid'); grid.innerHTML=''; minesGrid.forEach((v,i)=>{ const b=document.createElement('div'); b.style.width='50px'; b.style.height='50px'; b.style.display='flex'; b.style.alignItems='center'; b.style.justifyContent='center'; b.style.background= minesRevealed[i] ? '#eee':'#777'; b.style.cursor='pointer'; b.style.border='1px solid #333'; if(minesRevealed[i]) b.textContent = v===-1? 'üí£': (v? v : ''); b.onclick = ()=> revealM(i); grid.appendChild(b); }); }
        function revealM(i){ if(minesRevealed[i]||!minesRunning) return; minesRevealed[i]=true; if(minesGrid[i]===-1){ // lost
                minesRunning=false; document.getElementById('mines-status').textContent='üí• Perdu !'; revealAllM(); return; }
            if(minesGrid[i]===0){ // flood
                const r=Math.floor(i/5), c=i%5; for(let dr=-1;dr<=1;dr++) for(let dc=-1;dc<=1;dc++){ const rr=r+dr, cc=c+dc; if(rr>=0&&rr<5&&cc>=0&&cc<5){ const idx=rr*5+cc; if(!minesRevealed[idx]) revealM(idx); } }
            }
            renderMines(); checkMinesWin(); }
        function revealAllM(){ minesRevealed = minesGrid.map(()=>true); renderMines(); }
        function checkMinesWin(){ if(minesRevealed.filter(x=>x).length === 25 - minesCount){ minesRunning=false; document.getElementById('mines-status').textContent='üéâ Gagn√© !'; } }

        // PONG (simple single-player)
        let pongAni=null; let pongScore=0;
        function startPong(){ pongRunning=true; pongScore=0; const canvas=document.getElementById('pong-canvas'); const ctx=canvas.getContext('2d'); let paddleX=canvas.width/2-40; let ball={x:canvas.width/2,y:canvas.height/2,vx:3,vy:-3}; canvas.onmousemove = (e)=>{ const r=canvas.getBoundingClientRect(); paddleX = e.clientX - r.left - 40; if(paddleX<0) paddleX=0; if(paddleX>canvas.width-80) paddleX=canvas.width-80; };
            function loop(){ ctx.clearRect(0,0,canvas.width,canvas.height); // paddle
                ctx.fillStyle='#fff'; ctx.fillRect(paddleX, canvas.height-20, 80, 10); // ball
                ctx.beginPath(); ctx.arc(ball.x, ball.y, 8,0,Math.PI*2); ctx.fill(); ball.x+=ball.vx; ball.y+=ball.vy;
                if(ball.x<8||ball.x>canvas.width-8) ball.vx*=-1; if(ball.y<8) ball.vy*=-1;
                if(ball.y+8 >= canvas.height-20 && ball.x>paddleX && ball.x<paddleX+80){ ball.vy*=-1; pongScore++; document.getElementById('pong-status').textContent = 'Score: '+pongScore; }
                if(ball.y>canvas.height){ cancelAnimationFrame(pongAni); pongRunning=false; alert('Game over! Score: '+pongScore); return; }
                pongAni = requestAnimationFrame(loop);
            }
            loop(); }

        // COLOR MATCH
        const cmColors = ['red','green','blue','yellow','purple'];
        let cmScore=0;
        function startColorMatch(){ colormatchRunning=true; cmScore=0; renderColorButtons(); nextColorRound(); }
        function renderColorButtons(){ const wrap=document.getElementById('colormatch-buttons'); wrap.innerHTML=''; cmColors.forEach(c=>{ const b=document.createElement('button'); b.textContent=c; b.style.background=c; b.style.color='#000'; b.style.padding='8px 12px'; b.onclick=()=>{ if(!colormatchRunning) return; if(c===currentColorAnswer){ cmScore++; document.getElementById('colormatch-status').textContent='Score: '+cmScore; nextColorRound(); } else { colormatchRunning=false; alert('Perdu! Score: '+cmScore); } }; wrap.appendChild(b); }); }
        let currentColorAnswer='';
        function nextColorRound(){ const word = cmColors[Math.floor(Math.random()*cmColors.length)]; const displayColor = cmColors[Math.floor(Math.random()*cmColors.length)]; currentColorAnswer = word; const q = document.getElementById('colormatch-question'); q.textContent = word.toUpperCase(); q.style.color = displayColor; }

        // TARGET PRACTICE, NUMBER ZAP, SIMON REVERSE, REFLEX SPRINT

        // TARGET PRACTICE
        let targetScore = 0;
        let targetInterval = null;
        let targetRunning = false;
        function startTarget(){
            const grid = document.getElementById('target-grid'); grid.innerHTML=''; targetScore=0; document.getElementById('target-status').textContent='Score: 0';
            for(let i=0;i<9;i++){ const cell=document.createElement('div'); cell.style.width='120px'; cell.style.height='80px'; cell.style.background='#95a5a6'; cell.style.borderRadius='8px'; cell.style.display='flex'; cell.style.alignItems='center'; cell.style.justifyContent='center'; cell.style.cursor='pointer'; cell.dataset.has='0'; cell.onclick=()=>{ if(cell.dataset.has==='1'){ targetScore++; cell.dataset.has='0'; cell.textContent=''; document.getElementById('target-status').textContent='Score: '+targetScore; } }; grid.appendChild(cell); }
            targetRunning=true;
            targetInterval = setInterval(()=>{
                const cells = Array.from(document.getElementById('target-grid').children);
                cells.forEach(c=>{ c.dataset.has='0'; c.textContent=''; });
                const idx = Math.floor(Math.random()*cells.length);
                const t = cells[idx]; t.dataset.has='1'; t.textContent='üéØ';
                setTimeout(()=>{ if(t.dataset.has==='1'){ t.dataset.has='0'; t.textContent=''; } },700);
            },700);
            setTimeout(()=>{ clearInterval(targetInterval); targetRunning=false; alert('Fin! Score: '+targetScore); },20000);
        }

        // NUMBER ZAP (click numbers 1..16 in order)
        let numzapExpected = 1;
        let numzapRunning = false;
        function startNumZap(){
            const grid=document.getElementById('numzap-grid'); grid.innerHTML=''; const nums = Array.from({length:16},(_,i)=>i+1).sort(()=>Math.random()-0.5);
            numzapExpected=1; numzapRunning=true; document.getElementById('numzap-status').textContent='Clique 1 ‚Üí 16';
            nums.forEach(n=>{ const b=document.createElement('div'); b.style.width='80px'; b.style.height='80px'; b.style.display='flex'; b.style.alignItems='center'; b.style.justifyContent='center'; b.style.background='#fff'; b.style.border='1px solid #333'; b.style.cursor='pointer'; b.textContent=n; b.onclick=()=>{ if(!numzapRunning) return; if(n===numzapExpected){ b.style.visibility='hidden'; numzapExpected++; if(numzapExpected>16){ numzapRunning=false; alert('üéâ Gagn√© !'); } } else { numzapRunning=false; alert('Mauvais! Tu as cliqu√© '+n); } }; grid.appendChild(b); });
        }

        // SIMON REVERSE
        let simonRevSeq = [];
        let simonRevPlayer = [];
        let simonrevRunning = false;
        function startSimonRev(){
            simonRevSeq = [];
            simonRevPlayer = [];
            simonRevRound();
        }
        function simonRevRound(){
            const next = Math.floor(Math.random()*4);
            simonRevSeq.push(next);
            document.getElementById('simonrev-status').textContent = `Round ${simonRevSeq.length} ‚Äî Observe`;
            playSimonRevSequence(0);
        }
        function playSimonRevSequence(i){
            if(i>=simonRevSeq.length){ simonRevPlayer = []; simonrevRunning = true; document.getElementById('simonrev-status').textContent='√Ä toi (√† l\'envers)'; return; }
            const idx = simonRevSeq[i]; const el = document.getElementById('simonrev-'+idx); el.style.filter='brightness(1.6)'; setTimeout(()=>{ el.style.filter=''; playSimonRevSequence(i+1); },600);
        }
        document.getElementById('simonrev-0').onclick = ()=>simonRevClick(0);
        document.getElementById('simonrev-1').onclick = ()=>simonRevClick(1);
        document.getElementById('simonrev-2').onclick = ()=>simonRevClick(2);
        document.getElementById('simonrev-3').onclick = ()=>simonRevClick(3);
        function simonRevClick(i){ if(!simonrevRunning) return; simonRevPlayer.push(i); const el=document.getElementById('simonrev-'+i); el.style.transform='scale(1.05)'; setTimeout(()=>el.style.transform='',150); const pos = simonRevPlayer.length-1; // check against reverse
            const expected = simonRevSeq[simonRevSeq.length-1-pos]; if(simonRevPlayer[pos] !== expected){ simonrevRunning=false; document.getElementById('simonrev-status').textContent='‚ùå Rat√© !'; return; } if(simonRevPlayer.length === simonRevSeq.length){ simonrevRunning=false; document.getElementById('simonrev-status').textContent='‚úÖ Bien jou√© !'; setTimeout(simonRevRound,700); } }

        // REFLEX SPRINT (5 rounds)
        let reflexRound = 0;
        let reflexsprintRunning = false;
        function startReflexSprint(){ reflexRound=0; reflexsprintRunning=true; reflexNext(); }
        function reflexNext(){ if(!reflexsprintRunning) return; reflexRound++; if(reflexRound>5){ reflexsprintRunning=false; alert('S√©rie termin√©e !'); return; } const box=document.getElementById('reflexsprint-box'); box.style.background='#ccc'; box.textContent='Pr√™t...'; document.getElementById('reflexsprint-status').textContent=`Round ${reflexRound}/5`;
            const delay = Math.random()*2000+800; setTimeout(()=>{ box.style.background='lightgreen'; box.textContent='CLIQUE !'; const start=Date.now(); box.onclick = ()=>{ const t = Date.now()-start; box.onclick=null; box.style.background='#ccc'; box.textContent=`${t}ms`; setTimeout(reflexNext,600); }; }, delay);
        }

        startCheckers();
    </script>
</body>
</html>